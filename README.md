# Web Component Boilerplate directory

The intent of this directory is to use as a boilerplate/springboard to create new Orion Design System [stateless components](/docs/ods-stateless-components.md). 

The Orion Web Component development environment is built using the [Polymer CLI](https://polymer-library.polymer-project.org/3.0/docs/tools/polymer-cli-commands). Although, you can create a new component directory by running `polymer init` [(read more)](https://polymer-library.polymer-project.org/3.0/docs/tools/create-element-polymer-cli) there are a considerable number of customizations that have been done to this development environment.

## New component repo

The creation of a new component repository within the Orion Design System requires admin access to the Alaska Airlines / Orion Design System Github account. Once this repository has been created, please fork the repo into your personal Github account and clone to your local machine for development. 

Once the new component work has been completed, please submit a Pull Request to the original component repository for review and merging. 

## New component config - root

There are a number of files that will need to be updated to in order to build the new component. 

### ./package.json

Update the following lines:

```
"name": "@alaskaairux/ods-[name]",

"description": "Orion Design System [name] element",
```

### ./index.html

Update the following line:

```
<title>Orion Design System | ods-[name] element</title>
```

### ./README.md

Once the new component setup is complete, run the following command to replace the `README.md` with the `README.template`.

```
mv README.temp README.md
```

### ./.travis.yml

Run the following command to allow Travis CI to see the new repository. 

```
mv .travis.temp .travis.yml
```

## New component config - ./demo

### ./demo/index.html

This file is the page served up when running `polymer serve`. Please customize this file to fit the needs that best demonstrate the usefulness of the component being created. 

For initial configuration, please update the following lines:

```
<title>Orion Design System | ods-[name] element</title>

<script type="module" src="../src/ods-[name].js"></script>

<h1>ods-[name]</h1>

<demo-snippet>
  <template>
    <ods-[name]></ods-[name]>
  </template>
</demo-snippet>

<h2>Element &#60;ods-[name]&#62;</h2>

<pre><code>class Ods[name] extends LitElement</code></pre>
```

## New component config - ./test

### ./test/index.html

Please update the following:

```
<script>
  // Load and run all tests (.html, .js):
  WCT.loadSuites([
    'ods-[name]_test.html'
  ]);
</script>
```

### ./test/ods-[name]_test.html

Please update the name of this file to represent the new ODS component being created. 

```
ods-[name]_test.html
```

In the file please update the following line:

```
<title>ods-[name]test</title>

<script type="module" src="../src/ods-[name].js"></script>
```

Following the example of passing a string into a component, update this file to address the component's test scenario:

```
<test-fixture id="BasicTestFixture">
  <template>
    <ods-[name]></ods-[name]>
  </template>
</test-fixture>

<test-fixture id="ChangedPropertyTestFixture">
  <template>
    <ods-[name] string="foo"></ods-[name]>
  </template>
</test-fixture>

<script type="module">
  suite("ods-[name]", () => {
    test("it's a test", () => {
      assert.equal(1, 1);
    });
    test("instantiating the element with default properties works", () => {
      const element = fixture("BasicTestFixture");
      assert.equal(element.string, "");
    });

    test("setting a property on the element works", () => {
      // Create a test fixture
      const element = fixture("ChangedPropertyTestFixture");
      assert.equal(element.string, "foo");
    });
  });
</script>
```

## New component config - ./src

Within the `./src` directory are all the core files that will be used to generate the component. The example for the boilerplate is a simple component that can accept a string. Please use the structure of this example to build additional components. 

### ./src/ods-[name].js

This is the component file. Please review the template file for any common build instructions. Please update the following lines:

```
import ods[name]Css from "./ods-[name]-css.js";

class Ods[name] extends LitElement {}

customElements.define("ods-[name]", Ods[name]);
```

**Variables** will refer to Sass variables being generated by the Design Tokens in the build process. 

**Properties** will refer to CSS Custom Properties that are required for the generation of the custom component. 

### ./src/shape.json

This is the file that drives the shape of the component as defined in component specific Design Tokens. 

The shape of a component is to be described using JSON. The intent behind this is to drive the creation of component specific design tokens, as well to communicate the full shape of the component in an other than CSS construct.

Please review the example below that illustrates a common pattern use. When creating shape definitions, it's best to create a local component reference, then when referencing a global value, please use the CSS Custom Selector as reference.

```
{
  "host": {
    "display": {"value": "flex"},
    "borderRadius": {"value": "var(--size-border-radius-default)"}
  },

  "ods-[name]": {
    "display": {"value": "inline-block"},
    "background": {
      "color": {"value": "var(--color-brand-blue-atlas-base)"}
    }
  }
}
```

### ./src/styles.scss

Please review the template file for any common build instructions. 

**Variables** will refer to Sass variables being generated by the Design Tokens in the build process. 

**Properties** will refer to CSS Custom Properties that are required for the generation of the custom component. 

### ./src/package.json

Definition of the npm package that will be created for this custom element. Please update the following lines:

```
"name": "@alaskaair/ods-[name]",

"description": "Orion Design System [name] element",
```
